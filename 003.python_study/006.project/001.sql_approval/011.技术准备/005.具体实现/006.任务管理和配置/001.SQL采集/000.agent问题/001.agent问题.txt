
我们先讨论另一个问题，就是我的编写Agent的问题，
这个agent的主要作用
		（1）部署到目标机器上面
		（2）提供接口出来让我 web 服务端可以调用


//===================================== 我的考虑
//===================================== 我的考虑

（1）如果用 java 编写一个jar包作为 agent
	 那么这个 agent 的安装需要人工介入，不能自动安装
	 //就算自动推到目标机器，那也需要目标机器有JDK

（2）用 c/c++  编写
     //不用考虑jdk问题，但是它编译的时候对硬件有区别对待
	 //编译的二进制文件不同，运行也不一定兼容

（3）用python编写，
	 //在推python的推过去的时候，
	 //也需要依赖python的安装，
	 //我是不是再安装一个ptyon包呢


（4）shell编写，
	 shell能编写服务吗？



//============================================================================================================= 最终选择：shell 来做
//============================================================================================================= 最终选择：shell 来做


（1）创建文件 vi simple_http_service.sh


（2）添加内容

#!/bin/bash

PORT=8080

# 使用/dev/tcp/0.0.0.0/8080监听端口，等待客户端连接
while true; do
    # 使用exec启动连接并等待数据
    exec 3<>/dev/tcp/0.0.0.0/$PORT

    # 读取来自客户端的输入
    cat <&3

    # 响应客户端
    echo -ne "HTTP/1.1 200 OK\r\nContent-Length: 13\r\n\r\nHello, World!" >&3

    # 关闭连接
    exec 3<&-
    exec 3>&-
done


（3）chmod +x simple_http_service.sh

（4）./simple_http_service.sh


//============================================================================================================= 但是shell不能监听
//============================================================================================================= 但是shell不能监听

所以在shell里面 嵌入C代码
使用shell即时编译，这样就可以了





