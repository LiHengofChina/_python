

//================================================================================================= 启用查询日志
//================================================================================================= 启用查询日志

//=================================== 启用查询日志（general_log）会对MySQL性能产生一定的影响，尤其是在高负载环境中。其主要影响包括：
//=================================== 启用查询日志（general_log）会对MySQL性能产生一定的影响，尤其是在高负载环境中。其主要影响包括：

（1）性能开销
	磁盘I/O：查询日志会记录所有执行的SQL语句，特别是如果日志文件非常大或数据库操作频繁时，
			 磁盘I/O会增加，可能导致性能下降。

（2）CPU消耗：MySQL需要处理并写入每个查询到日志文件，这会增加CPU的使用率，
			  尤其是在并发量高的情况下。

（3）内存消耗：日志记录会占用额外的内存，
			   尤其是在启用了日志记录所有SQL的情况下，内存使用可能会增加。

//=================================== 响应时间增加
//=================================== 响应时间增加

由于每个查询都需要被记录到日志文件中，这可能会导致SQL执行的响应时间略有增加，
尤其是在复杂查询或大量并发查询的情况下。

//=================================== 日志文件的大小
//=================================== 日志文件的大小

（1）如果启用了查询日志并且没有及时清理，日志文件可能会快速变得非常大，消耗大量磁盘空间。
（2）过大的日志文件会影响磁盘空间管理，也可能导致I/O性能下降。


//=================================== 可能影响锁定和事务
//=================================== 可能影响锁定和事务

在高并发的生产环境中，查询日志可能会增加锁定的开销，
尤其是在事务和并发查询较多的情况下，可能导致数据库的锁等待时间增加。


//================================================================================================= 如何减小影响
//================================================================================================= 如何减小影响

如果你决定启用查询日志，并且希望将性能影响降到最低，可以考虑以下做法：


（1）限制日志内容：
	 只记录某些查询类型（例如仅记录慢查询）。
	 在低负载时启用查询日志，使用后及时关闭。

（2）日志轮换与清理：
	 设置日志文件的最大大小，并启用日志轮换机制。确保日志不会无限制增长。
	 定期清理或归档日志文件，避免日志占用过多磁盘空间。

（3）使用syslog：
	 可以将日志输出到系统日志（syslog），而不是直接写入文件，这样可以减少磁盘I/O开销。
		/**
		//会直接影响MySQL服务本身，但会增加系统负载
		syslog 仍然会将日志写入文件，只不过它是通过系统的日志管理机制来处理日志的，
		而不像直接将日志写入MySQL配置的指定日志文件中那么简单。
		*/

（4）监控性能：
	 启用查询日志后，监控数据库的性能指标，尤其是CPU、内存和磁盘I/O，
	 确保日志开关不会对系统造成过大影响。


//=================================================================================================
//=================================================================================================

总之，启用查询日志会对MySQL的性能产生一定影响，尤其是在高并发、高负载的环境中。
如果是为了调试或特定需求，建议仅在必要时启用，并在采集完数据后及时关闭。



