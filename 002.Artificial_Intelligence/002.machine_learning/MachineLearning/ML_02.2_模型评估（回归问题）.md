

## 5. 模型评价指标（回归问题）

````javascript
比较真实值 和 预测值它们之前的差异
		怎么比较？
				使用相关的指标：

（1）平均绝对误差（Mean Absolute Deviation）：
				单个 "观测值" 与 "预测值" 的偏差的绝对值的平均；
                // ∑|Y -Y'| /n
                // 每个样本都有误差，我们求样本误差的平均值
                /*
                	假设薪资是80000，平均绝对误差是2000
                	就是说预测值，在8200 - 7800 之间
                	如果这个误差你能接收，那这个模型就能使用了
                	如果不能接收，则需要优化
                */
                //======================接口
                mean_absulote_error

（2）均方误差：
				单个 "样本" 到"预测值" 的平方平均值；
                //================================
				一般缩写MSE
                平均、平方、误差
                // ∑(Y -Y')^2 / n
                // 就是前面的损失函数
                
（3）MAD(中位数绝对偏差)：
				与数据中值绝对偏差的中值；		
                //===============================
                对误差的绝对值求 "中位数"
````

![](img/MAD.png)

```javascript
（4）R2决定系数：
				趋向于1，模型越好；趋向于0，模型越差. 
				
				//=====================================
				R2_score //R2得分
				它对模型打分。
                假设我们有两个模型，
                我们就可以对他们打分
                //===================================== R2得分的计算过程
				//参数最下面
                
//========================================================== 如何实现评估
//========================================================== 如何实现评估

sklearn.metrics as sm  模型性能评估模埠
			// metrics 和 matrix 有点像，但不是
            // 矩阵 matrix
            // 度量标准 metrics  评估
            /**
           	 		metrics 是评估模块
              "回归问题" 有自己的评估方式
              "分类问题" 也有自己的评估方式
              "聚类问题" 也有自己的评估方式 
			
            
             不管什么类型问题，它的评估全部在 metrics 上面

            */

```

```javascript
比如说：
    张三训练出一个模型，针对 "工作年龄" 和 "薪资"  预测的非常准。
    那李四说：“你给我用一下吧， 这是我的数据，这是我的代码，给你，你自己跑一下，
    跑出来之后，你去用”，这种情况可以吗？
    
    可以的，模型比较简单，数据量比较少的时候，是可以的。
    
    但是,当我们的"模型超级复杂"，数据量"非常庞大"，
    其实我们 "训练模型的过程" 是 "非常漫长"的。
    
    在上面的 "线性回归" 模型的例子中，训练的过程非常快的，
    但是实际当中 "训练模型" 非常慢，因为：
    		因为在 "很复杂的任务中"，参数量很庞大的任务中，
            我们都是选择 "迭代求解法"，也就是 "梯度下降法"，来更新 "模型参数"
			
			这就会涉及到要  "训练多少轮" 的问题，
            		比如，
                    我只训练500轮，速度快，因为我们的模型态简单，
                    它要更新的参数就2个。数据量只有30个。

              到了后面涉及到 "更复杂的数据" 和 "更复杂的模型"，
              可能 你的电脑都跳不出来。
              因为我们的电脑一般都是 "CPU"，使用 "CUP" 计算的，
              "CPU整体计算效率是比较慢的"
  			 //==============================
			 在 "真正的项目" 当中 ，
             在 "真正的工程" 当中，使用的是 "GPU"
			
			 去 "公式上班"，
             "训练模型" 的时候，使用的是 "GPU" ，也就是显卡，
  			 //==============================
		      使用 "GPT" 训练一轮，需要多久的时间呢? 
                  	服务器级别的 "GPU"。
              		1. 和设备有关
              		2. 和模型的复杂程度有关
              		3. 样本多少有关，样本越复杂，数据越多。
              所以这个不是一个绝对的东西。
              		
              做到 "目标检测" 的时候，
              		400 * 400 的图像，用V100的GPU去计算，全模式开起来
	  	            大概使用一轮的时间在：20~30分钟左右。
  			 //==============================
              所以这种情况，李四肯定不愿意再训练一次跑：
              
              我们在各种APP、各种软件、各种网页上面、各种手机上面
              我们用到的 "人脸识别"、"图像识别" 等相关技术，
              都是别人提前训练好了的		
              		人家拿到一大堆数据，为什么 "你的人脸识别系统能识别很准"
              		是因为人家提前 "把模型训练" 好了，保存下 "这个模型"。
              		部署到 "某个设备" 上面，
              		然后  "它能够直接进行预测"，
              所以 "训练出一个人工智能的模型" 它其实很不容易的。
              因为你 "除了搞模型" 还要"搞数据"。
  			 //==============================
              比如：之前做的一个NLB，还没到模型预处理数据
              用了2个月到3个月，
              所以相对你 "训练一个比较好的模型，精度比较高的模型，它是比较不容易的"，
//==============================
所以 "不管什么样的框架"，它都提供了一个保存模型的 "需求"
就是：将 "你训练好的模型" 给它保存下来
//==============================一定要在训练完成之后保存吗？
针对 "闭式解" 的方式，一下就能出来"模型参数"，所以都是"训练完成之后保存"
如果要用 "迭代求解" 的方式，一轮训练 "需要30分钟"
训练300轮的时候，要很久时间，突然停电了，
这时就需要从头开始训练。
//==============================
所以我们可以选择增量模型，先训练1000轮后，保存模型，
              保存之后，我在上一次的基础之上继续训练。
         //============================
         好比，我先训练100轮，训练100轮之后，发现精度不够，我现把轮数改成200，这样之前训练的就浪费了。
         //============================
         这时，就可以，先训练100轮，保存评估，这时如果还想训练，可以再增加100轮，在上一轮基础上进行。

```



